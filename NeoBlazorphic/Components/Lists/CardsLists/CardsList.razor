@using NeoBlazorphic.Components.Base.Cards;
@using NeoBlazorphic.StyleParameters
@using System.Drawing

@typeparam T

<div class="" style="height: 100%; overflow: hidden; display: grid; grid-template-rows: auto 1fr auto">

    @if (Filter != default)
    {
        <div class="mx-3 my-1" style="grid-row: 1">
            <input @bind=SearchBarQuery @bind:event="oninput" placeholder="filter here..." style="color: black;">
        </div>
    }
    
    <div class="" style="overflow-y: auto; grid-row: 2">
        <ul class="px-3">
            @{
                var itemsToDisplay = DisplayableItems().ToArray();
            }
            @if (ItemRenderFragment != null && itemsToDisplay.Length != 0)
            {
                @foreach (var item in itemsToDisplay)
                {
                    <li class="my-3 ">
                        <Card AdditionalClasses="neo-concave-on-hover" BorderRadius="@CardBorderRadius" Shape=@BackgroundShape.Flat ShadowPosition=@ShadowPosition.Out Color="ThemeColor.Base" OnMouseClickCallBack="() => ItemClicked(item)">
                            @if (ItemRenderFragment != default)
                            {
                                @ItemRenderFragment(item)
                            }
                        </Card>
                    </li>
                }
            }
            else
            {
                <li class="my-3">
                    <Card BorderRadius="@CardBorderRadius" Shape=@BackgroundShape.Flat ShadowPosition=@ShadowPosition.Out Color="ThemeColor.Base">
                       nothing to show...
                    </Card>
                </li>
            }
        </ul>
    </div>
    
    @if (FooterRenderFragment != default)
    {
        <div class="mx-3 my-1">
            @FooterRenderFragment
        </div>
    }
</div>

